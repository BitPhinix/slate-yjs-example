(this["webpackJsonpslate-yjs-example"]=this["webpackJsonpslate-yjs-example"]||[]).push([[0],{1361:function(e,n,t){"use strict";t.r(n);var r=t(6),c=t(3),o=t(39),a=t.n(o),i=t(21),u=t(0),l=t(20),s=t(29),d=t.n(s),b=t(14),j=t(45),f=t.n(j),p=t(1),O=t(60),x=t(32),m=t(38),h=t(59),v=t(15);function g(){var e=Object(i.a)(["\n  box-shadow: 2px 2px 4px rgba(128, 128, 128, 0.2);\n  padding: 10px;\n  min-height: 70px;\n  margin-left: -10px;\n  margin-right: -10px;\n  background: white;\n  blockquote {\n    border-left: 2px solid #ddd;\n    margin-left: 0;\n    margin-right: 0;\n    padding-left: 10px;\n    color: #aaa;\n    font-style: italic;\n  }\n  a {\n    color: purple;\n    text-decoration: none;\n  }\n  a:visited {\n    color: darkmagenta;\n  }\n"]);return g=function(){return e},e}function k(){var e=Object(i.a)(["\n  background: ",";\n  padding: 20px 20px 30px;\n"]);return k=function(){return e},e}function w(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  @media (max-width: 767px) {\n    flex-wrap: wrap;\n  }\n"]);return w=function(){return e},e}function y(){var e=Object(i.a)(["\n  display: grid;\n  grid-gap: 1vw;\n  grid-template-columns: 1fr 1fr;\n  @media (max-width: 767px) {\n    grid-template-columns: 1fr;\n  }\n"]);return y=function(){return e},e}function C(){var e=Object(i.a)([""]);return C=function(){return e},e}function E(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  display: block;\n  outline: none;\n  background-color: transparent;\n  font-size: 14px;\n  text-align: center;\n  color: palevioletred;\n  white-space: nowrap;\n  border: 2px solid palevioletred;\n  & + button {\n    margin-left: 10px;\n  }\n"]);return E=function(){return e},e}function N(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  font-size: 14px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  min-width: 240px;\n  outline: none;\n  border: 2px solid palevioletred;\n  margin-right: auto;\n"]);return N=function(){return e},e}function S(){var e=Object(i.a)(["\n  margin: 0;\n  padding-right: 10px;\n"]);return S=function(){return e},e}function D(){var e=Object(i.a)(["\n  padding-bottom: 10px;\n  border-bottom: 2px solid #e8e8e8;\n"]);return D=function(){return e},e}var _=l.a.div(D()),M=l.a.h4(S()),R=l.a.input(N()),q=l.a.button(E()),z=Object(l.a)(q)((function(e){return{color:e.active?"mediumvioletred":"lightpink",border:"none",padding:0}})),I=l.a.div(C()),T=l.a.div(y()),A=l.a.div(w()),L=l.a.div(k(),(function(e){return e.online?"rgba(128, 128, 128, 0.1)":"rgba(247, 0, 0, 0.2)"})),U=l.a.div(g()),B=function(e){var n=e.data,t=e.isForward,c=Object(b.a)(Object(b.a)({},F),{},{background:n.color,left:t?"100%":"0%"}),o=Object(b.a)(Object(b.a)({},J),{},{background:n.color,left:t?"100%":"0%"});return o[t?"bottom":"top"]=0,Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("span",{contentEditable:!1,style:o,children:Object(r.jsx)("span",{style:{position:"relative"},children:Object(r.jsx)("span",{contentEditable:!1,style:c,children:n.name})})})})},F={position:"absolute",top:-2,pointerEvents:"none",userSelect:"none",transform:"translateY(-100%)",fontSize:10,color:"white",background:"palevioletred",whiteSpace:"nowrap"},J={position:"absolute",pointerEvents:"none",userSelect:"none",height:"1.2em",width:2,background:"palevioletred"},G=["numbered-list","bulleted-list"],H=function(e,n){var t=p.a.nodes(e,{match:function(e){return e.type===n}});return!!Object(u.a)(t,1)[0]},W=t(48),Y=t.n(W),K=function(e){var n=p.a.nodes(e,{match:function(e){return"link"===e.type}});return!!Object(u.a)(n,1)[0]},P=function(e){p.h.unwrapNodes(e,{match:function(e){return"link"===e.type}})},Q=function(e,n){K(e)&&P(e);var t=e.selection,r=t&&p.f.isCollapsed(t),c={type:"link",href:n,children:r?[{text:n}]:[]};r?p.h.insertNodes(e,c):(p.h.wrapNodes(e,c,{split:!0}),p.h.collapse(e,{edge:"end"}))},V=function(e,n){var t=p.a.marks(e);return!!t&&!0===t[n]},X=function(e){return Object(r.jsx)($,Object(b.a)({},e))},Z=function(e){var n=e.editor,t=e.value,o=e.onChange,a=e.decorate,i=Object(c.useCallback)((function(e){return Object(r.jsx)(ee,Object(b.a)({},e))}),[a]);return Object(r.jsx)(U,{children:Object(r.jsxs)(x.b,{editor:n,value:t,onChange:o,children:[Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:[Object(r.jsx)(te,{format:"bold",icon:"format_bold"}),Object(r.jsx)(te,{format:"italic",icon:"format_italic"}),Object(r.jsx)(te,{format:"underline",icon:"format_underlined"}),Object(r.jsx)(te,{format:"code",icon:"code"}),Object(r.jsx)(ne,{format:"heading-one",icon:"looks_one"}),Object(r.jsx)(ne,{format:"heading-two",icon:"looks_two"}),Object(r.jsx)(ne,{format:"block-quote",icon:"format_quote"}),Object(r.jsx)(ne,{format:"numbered-list",icon:"format_list_numbered"}),Object(r.jsx)(ne,{format:"bulleted-list",icon:"format_list_bulleted"}),Object(r.jsx)(re,{})]}),Object(r.jsx)(x.a,{renderElement:X,renderLeaf:i,decorate:a})]})})},$=function(e){var n=e.attributes,t=e.children,c=e.element;switch(c.type){case"link":return Object(r.jsx)("a",Object(b.a)(Object(b.a)({},n),{},{href:c.href,children:t}));case"block-quote":return Object(r.jsx)("blockquote",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"bulleted-list":return Object(r.jsx)("ul",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"heading-one":return Object(r.jsx)("h1",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"heading-two":return Object(r.jsx)("h2",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"list-item":return Object(r.jsx)("li",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"numbered-list":return Object(r.jsx)("ol",Object(b.a)(Object(b.a)({},n),{},{children:t}));default:return Object(r.jsx)("p",Object(b.a)(Object(b.a)({},n),{},{children:t}))}},ee=function(e){var n=e.attributes,t=e.children,c=e.leaf;c.bold&&(t=Object(r.jsx)("strong",{children:t})),c.code&&(t=Object(r.jsx)("code",{children:t})),c.italic&&(t=Object(r.jsx)("em",{children:t})),c.underline&&(t=Object(r.jsx)("u",{children:t}));var o=c.data;return Object(r.jsxs)("span",Object(b.a)(Object(b.a)({},n),{},{style:{position:"relative",backgroundColor:null===o||void 0===o?void 0:o.alphaColor},children:[c.isCaret?Object(r.jsx)(B,Object(b.a)({},c)):null,t]}))},ne=function(e){var n=e.format,t=e.icon,c=Object(x.c)();return Object(r.jsx)(z,{active:H(c,n),onMouseDown:function(e){e.preventDefault(),function(e,n){var t=H(e,n),r=G.includes(n);if(p.h.unwrapNodes(e,{match:function(e){return G.includes(e.type)},split:!0}),p.h.setNodes(e,{type:t?"paragraph":r?"list-item":n}),!t&&r){var c={type:n,children:[]};p.h.wrapNodes(e,c)}}(c,n)},children:Object(r.jsx)(I,{className:"material-icons",children:t})})},te=function(e){var n=e.format,t=e.icon,c=Object(x.c)();return Object(r.jsx)(z,{active:V(c,n),onMouseDown:function(e){e.preventDefault(),function(e,n){V(e,n)?p.a.removeMark(e,n):p.a.addMark(e,n,!0)}(c,n)},children:Object(r.jsx)(I,{className:"material-icons",children:t})})},re=function(){var e=Object(x.c)(),n=K(e);return Object(r.jsx)(z,{active:n,onMouseDown:function(t){if(t.preventDefault(),n)return P(e);var r=window.prompt("Enter the URL of the link:");r&&function(e,n){e.selection&&Q(e,n)}(e,r)},children:Object(r.jsx)(I,{className:"material-icons",children:"link"})})},ce=t(58),oe=t.n(ce);function ae(){var e=Object(i.a)(["\n  margin-right: auto;\n"]);return ae=function(){return e},e}var ie=function(e){var n=e.id,t=e.name,o=e.slug,a=e.removeUser,i=Object(c.useState)([]),l=Object(u.a)(i,2),s=l[0],d=l[1],b=Object(c.useState)(!1),j=Object(u.a)(b,2),f=j[0],g=j[1],k=Object(c.useMemo)((function(){return oe()({luminosity:"dark",format:"rgba",alpha:1})}),[]),w=Object(c.useMemo)((function(){var e=new v.c;return[e.getArray("content"),new h.a("wss://demos.yjs.dev/slate-demo",o,e,{connect:!1})]}),[n]),y=Object(u.a)(w,2),C=y[0],E=y[1],N=Object(c.useMemo)((function(){return Object(m.c)(Object(m.d)(function(e){var n=e,t=n.insertData,r=n.insertText,c=n.isInline;return n.isInline=function(e){return"link"===e.type||c(e)},n.insertText=function(n){n&&Y()(n)?Q(e,n):r(n)},n.insertData=function(n){var r=n.getData("text/plain");r&&Y()(r)?Q(e,r):t(n)},n}(Object(x.d)(Object(O.a)(Object(p.i)()))),C),E.awareness)}),[C,E]);Object(c.useEffect)((function(){return E.on("status",(function(e){var n=e.status;g("connected"===n)})),E.awareness.setLocalState({alphaColor:k.slice(0,-2)+"0.2)",color:k,name:t}),E.on("sync",(function(e){e&&0===C.length&&Object(m.a)(C,[{type:"paragraph",children:[{text:"Hello world!"}]}])})),E.connect(),function(){E.disconnect()}}),[E]);var S=Object(m.b)(N).decorate;return Object(r.jsxs)(L,{online:f,children:[Object(r.jsxs)(A,{children:[Object(r.jsxs)(ue,{children:["Editor: ",t]}),Object(r.jsxs)("div",{style:{display:"flex",marginTop:10,marginBottom:10},children:[Object(r.jsxs)(q,{type:"button",onClick:function(){f?E.disconnect():E.connect()},children:["Go ",f?"offline":"online"]}),Object(r.jsx)(q,{type:"button",onClick:function(){return a(n)},children:"Remove"})]})]}),Object(r.jsx)(Z,{editor:N,value:s,decorate:S,onChange:function(e){return d(e)}})]})},ue=Object(l.a)(M)(ae()),le=function(){return{id:d.a.random.uuid(),name:"".concat(d.a.name.firstName()," ").concat(d.a.name.lastName())}},se=function(e){var n=e.slug,t=e.removeRoom,o=Object(c.useState)([le(),le()]),a=Object(u.a)(o,2),i=a[0],l=a[1],s=Object(c.useState)(n),d=Object(u.a)(s,2),j=d[0],p=d[1],O=Object(c.useState)(!1),x=Object(u.a)(O,2),m=x[0],h=x[1],v=f()((function(){h(!0),setTimeout(h,50,!1)}),300),g=function(e){return l((function(n){return n.filter((function(n){return n.id!==e}))}))};return Object(r.jsxs)(_,{children:[Object(r.jsxs)(A,{children:[Object(r.jsx)(M,{children:"Document slug:"}),Object(r.jsx)(R,{type:"text",value:j,onChange:function(e){p(e.target.value),v()}}),Object(r.jsx)(q,{type:"button",onClick:function(){return l((function(e){return e.concat(le())}))},children:"Add random user"}),Object(r.jsx)(q,{type:"button",onClick:t,children:"Remove Room"})]}),Object(r.jsx)(T,{children:i.map((function(e){return m?null:Object(c.createElement)(ie,Object(b.a)(Object(b.a)({},e),{},{slug:j,key:e.id,removeUser:g}))}))})]})};function de(){var e=Object(i.a)(["\n  margin-left: 0px;\n  color: violet;\n  margin-bottom: 10px;\n  border: 2px solid violet;\n"]);return de=function(){return e},e}function be(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  display: block;\n  outline: none;\n  font-size: 14px;\n  max-width: 200px;\n  text-align: center;\n  color: palevioletred;\n  border: 2px solid palevioletred;\n"]);return be=function(){return e},e}function je(){var e=Object(i.a)(["\n  display: flex;\n"]);return je=function(){return e},e}var fe=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],a=function(){return o(t.concat(d.a.lorem.slug(4)))},i=function(e){return function(){return o(t.filter((function(n){return n!==e})))}};return Object(c.useEffect)((function(){a()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(pe,{children:Object(r.jsx)(xe,{type:"button",onClick:a,children:"Add Room"})}),t.map((function(e){return Object(r.jsx)(se,{slug:e,removeRoom:i(e)},e)}))]})},pe=l.a.div(je()),Oe=l.a.button(be()),xe=Object(l.a)(Oe)(de());a.a.render(Object(r.jsx)(fe,{}),document.getElementById("root"))}},[[1361,1,2]]]);
//# sourceMappingURL=main.220e042c.chunk.js.map
(this["webpackJsonpslate-yjs-example"]=this["webpackJsonpslate-yjs-example"]||[]).push([[0],{1370:function(e,n,t){"use strict";t.r(n);var r=t(7),c=t(2),o=t(44),a=t.n(o),i=t(28),u=t(0),l=t(27),s=t(35),d=t.n(s),b=t(18),j=t(51),f=t.n(j),p=t(1),O=t(69),x=t(36),m=t(1373),h=t(67),v=t(30),g=t(1374),k=t(68),w=t(19);function y(){var e=Object(i.a)(["\n  box-shadow: 2px 2px 4px rgba(128, 128, 128, 0.2);\n  padding: 10px;\n  min-height: 70px;\n  margin-left: -10px;\n  margin-right: -10px;\n  background: white;\n  blockquote {\n    border-left: 2px solid #ddd;\n    margin-left: 0;\n    margin-right: 0;\n    padding-left: 10px;\n    color: #aaa;\n    font-style: italic;\n  }\n  a {\n    color: purple;\n    text-decoration: none;\n  }\n  a:visited {\n    color: darkmagenta;\n  }\n"]);return y=function(){return e},e}function C(){var e=Object(i.a)(["\n  background: ",";\n  padding: 20px 20px 30px;\n"]);return C=function(){return e},e}function E(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  @media (max-width: 767px) {\n    flex-wrap: wrap;\n  }\n"]);return E=function(){return e},e}function N(){var e=Object(i.a)(["\n  display: grid;\n  grid-gap: 1vw;\n  grid-template-columns: 1fr 1fr;\n  @media (max-width: 767px) {\n    grid-template-columns: 1fr;\n  }\n"]);return N=function(){return e},e}function S(){var e=Object(i.a)([""]);return S=function(){return e},e}function D(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  display: block;\n  outline: none;\n  background-color: transparent;\n  font-size: 14px;\n  text-align: center;\n  color: palevioletred;\n  white-space: nowrap;\n  border: 2px solid palevioletred;\n  & + button {\n    margin-left: 10px;\n  }\n"]);return D=function(){return e},e}function _(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  font-size: 14px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  min-width: 240px;\n  outline: none;\n  border: 2px solid palevioletred;\n  margin-right: auto;\n"]);return _=function(){return e},e}function M(){var e=Object(i.a)(["\n  margin: 0;\n  padding-right: 10px;\n"]);return M=function(){return e},e}function R(){var e=Object(i.a)(["\n  padding-bottom: 10px;\n  border-bottom: 2px solid #e8e8e8;\n"]);return R=function(){return e},e}var q=l.a.div(R()),z=l.a.h4(M()),I=l.a.input(_()),T=l.a.button(D()),A=Object(l.a)(T)((function(e){return{color:e.active?"mediumvioletred":"lightpink",border:"none",padding:0}})),L=l.a.div(S()),U=l.a.div(N()),B=l.a.div(E()),F=l.a.div(C(),(function(e){return e.online?"rgba(128, 128, 128, 0.1)":"rgba(247, 0, 0, 0.2)"})),J=l.a.div(y()),G=function(e){var n=e.data,t=e.isForward,c=Object(b.a)(Object(b.a)({},H),{},{background:n.color,left:t?"100%":"0%"}),o=Object(b.a)(Object(b.a)({},W),{},{background:n.color,left:t?"100%":"0%"});return o[t?"bottom":"top"]=0,Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("span",{contentEditable:!1,style:o,children:Object(r.jsx)("span",{style:{position:"relative"},children:Object(r.jsx)("span",{contentEditable:!1,style:c,children:n.name})})})})},H={position:"absolute",top:-2,pointerEvents:"none",userSelect:"none",transform:"translateY(-100%)",fontSize:10,color:"white",background:"palevioletred",whiteSpace:"nowrap"},W={position:"absolute",pointerEvents:"none",userSelect:"none",height:"1.2em",width:2,background:"palevioletred"},Y=["numbered-list","bulleted-list"],K=function(e,n){var t=p.a.nodes(e,{match:function(e){return e.type===n}});return!!Object(u.a)(t,1)[0]},P=t(52),Q=t.n(P),V=function(e){var n=p.a.nodes(e,{match:function(e){return"link"===e.type}});return!!Object(u.a)(n,1)[0]},X=function(e){p.h.unwrapNodes(e,{match:function(e){return"link"===e.type}})},Z=function(e,n){V(e)&&X(e);var t=e.selection,r=t&&p.f.isCollapsed(t),c={type:"link",href:n,children:r?[{text:n}]:[]};r?p.h.insertNodes(e,c):(p.h.wrapNodes(e,c,{split:!0}),p.h.collapse(e,{edge:"end"}))},$=function(e,n){var t=p.a.marks(e);return!!t&&!0===t[n]},ee=function(e){return Object(r.jsx)(te,Object(b.a)({},e))},ne=function(e){var n=e.editor,t=e.value,o=e.onChange,a=e.decorate,i=Object(c.useCallback)((function(e){return Object(r.jsx)(re,Object(b.a)({},e))}),[a]);return Object(r.jsx)(J,{children:Object(r.jsxs)(x.b,{editor:n,value:t,onChange:o,children:[Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:[Object(r.jsx)(oe,{format:"bold",icon:"format_bold"}),Object(r.jsx)(oe,{format:"italic",icon:"format_italic"}),Object(r.jsx)(oe,{format:"underline",icon:"format_underlined"}),Object(r.jsx)(oe,{format:"code",icon:"code"}),Object(r.jsx)(ce,{format:"heading-one",icon:"looks_one"}),Object(r.jsx)(ce,{format:"heading-two",icon:"looks_two"}),Object(r.jsx)(ce,{format:"block-quote",icon:"format_quote"}),Object(r.jsx)(ce,{format:"numbered-list",icon:"format_list_numbered"}),Object(r.jsx)(ce,{format:"bulleted-list",icon:"format_list_bulleted"}),Object(r.jsx)(ae,{})]}),Object(r.jsx)(x.a,{renderElement:ee,renderLeaf:i,decorate:a})]})})},te=function(e){var n=e.attributes,t=e.children,c=e.element;switch(c.type){case"link":return Object(r.jsx)("a",Object(b.a)(Object(b.a)({},n),{},{href:c.href,children:t}));case"block-quote":return Object(r.jsx)("blockquote",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"bulleted-list":return Object(r.jsx)("ul",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"heading-one":return Object(r.jsx)("h1",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"heading-two":return Object(r.jsx)("h2",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"list-item":return Object(r.jsx)("li",Object(b.a)(Object(b.a)({},n),{},{children:t}));case"numbered-list":return Object(r.jsx)("ol",Object(b.a)(Object(b.a)({},n),{},{children:t}));default:return Object(r.jsx)("p",Object(b.a)(Object(b.a)({},n),{},{children:t}))}},re=function(e){var n=e.attributes,t=e.children,c=e.leaf;c.bold&&(t=Object(r.jsx)("strong",{children:t})),c.code&&(t=Object(r.jsx)("code",{children:t})),c.italic&&(t=Object(r.jsx)("em",{children:t})),c.underline&&(t=Object(r.jsx)("u",{children:t}));var o=c.data;return Object(r.jsxs)("span",Object(b.a)(Object(b.a)({},n),{},{style:{position:"relative",backgroundColor:null===o||void 0===o?void 0:o.alphaColor},children:[c.isCaret?Object(r.jsx)(G,Object(b.a)({},c)):null,t]}))},ce=function(e){var n=e.format,t=e.icon,c=Object(x.c)();return Object(r.jsx)(A,{active:K(c,n),onMouseDown:function(e){e.preventDefault(),function(e,n){var t=K(e,n),r=Y.includes(n);if(p.h.unwrapNodes(e,{match:function(e){return Y.includes(e.type)},split:!0}),p.h.setNodes(e,{type:t?"paragraph":r?"list-item":n}),!t&&r){var c={type:n,children:[]};p.h.wrapNodes(e,c)}}(c,n)},children:Object(r.jsx)(L,{className:"material-icons",children:t})})},oe=function(e){var n=e.format,t=e.icon,c=Object(x.c)();return Object(r.jsx)(A,{active:$(c,n),onMouseDown:function(e){e.preventDefault(),function(e,n){$(e,n)?p.a.removeMark(e,n):p.a.addMark(e,n,!0)}(c,n)},children:Object(r.jsx)(L,{className:"material-icons",children:t})})},ae=function(){var e=Object(x.c)(),n=V(e);return Object(r.jsx)(A,{active:n,onMouseDown:function(t){if(t.preventDefault(),n)return X(e);var r=window.prompt("Enter the URL of the link:");r&&function(e,n){e.selection&&Z(e,n)}(e,r)},children:Object(r.jsx)(L,{className:"material-icons",children:"link"})})},ie=t(65),ue=t.n(ie);function le(){var e=Object(i.a)(["\n  margin-right: auto;\n"]);return le=function(){return e},e}var se=function(e){var n=e.id,t=e.name,o=e.slug,a=e.removeUser,i=Object(c.useState)([]),l=Object(u.a)(i,2),s=l[0],d=l[1],b=Object(c.useState)(!1),j=Object(u.a)(b,2),f=j[0],y=j[1],C=Object(c.useMemo)((function(){return ue()({luminosity:"dark",format:"rgba",alpha:1})}),[]),E=Object(c.useMemo)((function(){var e=new w.b;return[e.getArray("content"),new k.a("wss://demos.yjs.dev/slate-demo",o,e,{connect:!1})]}),[n]),N=Object(u.a)(E,2),S=N[0],D=N[1],_=Object(c.useMemo)((function(){return Object(m.a)(Object(h.b)(function(e){var n=e,t=n.insertData,r=n.insertText,c=n.isInline;return n.isInline=function(e){return"link"===e.type||c(e)},n.insertText=function(n){n&&Q()(n)?Z(e,n):r(n)},n.insertData=function(n){var r=n.getData("text/plain");r&&Q()(r)?Z(e,r):t(n)},n}(Object(x.d)(Object(O.a)(Object(p.i)()))),S),D.awareness)}),[S,D]);Object(c.useEffect)((function(){return D.on("status",(function(e){var n=e.status;y("connected"===n)})),D.awareness.setLocalState({alphaColor:C.slice(0,-2)+"0.2)",color:C,name:t}),D.on("sync",(function(e){e&&0===S.length&&Object(v.a)(S,[{type:"paragraph",children:[{text:"Hello world!"}]}])})),D.connect(),function(){D.disconnect()}}),[D]);var M=Object(g.a)(_).decorate;return Object(r.jsxs)(F,{online:f,children:[Object(r.jsxs)(B,{children:[Object(r.jsxs)(de,{children:["Editor: ",t]}),Object(r.jsxs)("div",{style:{display:"flex",marginTop:10,marginBottom:10},children:[Object(r.jsxs)(T,{type:"button",onClick:function(){f?D.disconnect():D.connect()},children:["Go ",f?"offline":"online"]}),Object(r.jsx)(T,{type:"button",onClick:function(){return a(n)},children:"Remove"})]})]}),Object(r.jsx)(ne,{editor:_,value:s,decorate:M,onChange:function(e){return d(e)}})]})},de=Object(l.a)(z)(le()),be=function(){return{id:d.a.random.uuid(),name:"".concat(d.a.name.firstName()," ").concat(d.a.name.lastName())}},je=function(e){var n=e.slug,t=e.removeRoom,o=Object(c.useState)([be(),be()]),a=Object(u.a)(o,2),i=a[0],l=a[1],s=Object(c.useState)(n),d=Object(u.a)(s,2),j=d[0],p=d[1],O=Object(c.useState)(!1),x=Object(u.a)(O,2),m=x[0],h=x[1],v=f()((function(){h(!0),setTimeout(h,50,!1)}),300),g=function(e){return l((function(n){return n.filter((function(n){return n.id!==e}))}))};return Object(r.jsxs)(q,{children:[Object(r.jsxs)(B,{children:[Object(r.jsx)(z,{children:"Document slug:"}),Object(r.jsx)(I,{type:"text",value:j,onChange:function(e){p(e.target.value),v()}}),Object(r.jsx)(T,{type:"button",onClick:function(){return l((function(e){return e.concat(be())}))},children:"Add random user"}),Object(r.jsx)(T,{type:"button",onClick:t,children:"Remove Room"})]}),Object(r.jsx)(U,{children:i.map((function(e){return m?null:Object(c.createElement)(se,Object(b.a)(Object(b.a)({},e),{},{slug:j,key:e.id,removeUser:g}))}))})]})};function fe(){var e=Object(i.a)(["\n  margin-left: 0px;\n  color: violet;\n  margin-bottom: 10px;\n  border: 2px solid violet;\n"]);return fe=function(){return e},e}function pe(){var e=Object(i.a)(["\n  padding: 6px 14px;\n  display: block;\n  outline: none;\n  font-size: 14px;\n  max-width: 200px;\n  text-align: center;\n  color: palevioletred;\n  border: 2px solid palevioletred;\n"]);return pe=function(){return e},e}function Oe(){var e=Object(i.a)(["\n  display: flex;\n"]);return Oe=function(){return e},e}var xe=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],a=function(){return o(t.concat(d.a.lorem.slug(4)))},i=function(e){return function(){return o(t.filter((function(n){return n!==e})))}};return Object(c.useEffect)((function(){a()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(me,{children:Object(r.jsx)(ve,{type:"button",onClick:a,children:"Add Room"})}),t.map((function(e){return Object(r.jsx)(je,{slug:e,removeRoom:i(e)},e)}))]})},me=l.a.div(Oe()),he=l.a.button(pe()),ve=Object(l.a)(he)(fe());a.a.render(Object(r.jsx)(xe,{}),document.getElementById("root"))}},[[1370,1,2]]]);
//# sourceMappingURL=main.37393a85.chunk.js.map